spring.kafka.bootstrap-servers=${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer
kafka.topics.user=${KAFKA_TOPIC_USER:client-topic}
kafka.topics.account=${KAFKA_TOPIC_ACCOUNT:account-topic}
kafka.topics.transaction=${KAFKA_TOPIC_TRANSACTION:transaction-created-topic}
kafka.consumer.group-id=${KAFKA_CONSUMER_GROUP_ID:bank-service-group}
kafka.consumer.dlt-suffix=${KAFKA_CONSUMER_DLT_SUFFIX:.dlt}
kafka.consumer.backoff-ms=${KAFKA_CONSUMER_BACKOFF_MS:1000}
kafka.consumer.max-retries=${KAFKA_CONSUMER_MAX_RETRIES:3}
kafka.consumer.auto-startup=${KAFKA_CONSUMER_AUTO_STARTUP:true}
kafka.user-events.allowed-producers=${KAFKA_USER_EVENTS_ALLOWED_PRODUCERS:security-service}
transfer.commission.friends=${TRANSFER_COMMISSION_FRIENDS:0.03}
transfer.commission.others=${TRANSFER_COMMISSION_OTHERS:0.10}
outbox.publisher.enabled=${OUTBOX_PUBLISHER_ENABLED:true}
outbox.publisher.interval-ms=${OUTBOX_PUBLISH_INTERVAL_MS:1000}
outbox.publisher.batch-size=${OUTBOX_PUBLISH_BATCH_SIZE:100}
outbox.publisher.publish-timeout-ms=${OUTBOX_PUBLISH_TIMEOUT_MS:5000}
outbox.publisher.max-attempts=${OUTBOX_PUBLISHER_MAX_ATTEMPTS:5}
maintenance.cleanup.enabled=${MAINTENANCE_CLEANUP_ENABLED:true}
maintenance.cleanup.cron=${MAINTENANCE_CLEANUP_CRON:0 0 3 * * *}
maintenance.cleanup.outbox-retention-days=${OUTBOX_RETENTION_DAYS:7}

jwt.service.secret=${JWT_SERVICE_SECRET}
jwt.service.issuer=${JWT_SERVICE_ISSUER:security-service}
jwt.service.audience=${JWT_SERVICE_AUDIENCE:bank-service}
jwt.service.allowed-subjects=${JWT_SERVICE_ALLOWED_SUBJECTS:${JWT_SERVICE_ISSUER:security-service}}

spring.datasource.url=${BANK_DB_URL:jdbc:postgresql://localhost:5433/bankdb}
spring.datasource.username=${BANK_DB_USER:user}
spring.datasource.password=${BANK_DB_PASSWORD:bank}
spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.hibernate.ddl-auto=validate
spring.jpa.open-in-view=false
spring.jpa.show-sql=true
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
